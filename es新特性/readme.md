# ES6\~ES13çš„æ–°ç‰¹æ€§

## ğŸ‡ å†™åœ¨å‰é¢

è‡ªä»ECMAScriptåœ¨2015å¹´æ­£å¼å‘å¸ƒäº†ES6èµ·ï¼Œåˆ°ç°åœ¨å·²ç»æœ‰äº†8ä¸ªå¹´å¤´äº†ï¼Œè€Œè‡ªä»2015å¹´èµ·ï¼Œæ¯å¹´çš„6æœˆéƒ½ä¼šå‘å¸ƒä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œä»¥å½“æ—¶çš„å¹´ä½œä¸ºç‰ˆæœ¬å·ã€‚

åœ¨è¿™ä¼—å¤šçš„ç‰ˆæœ¬ä¸­å·²ç»å‡ºç°äº†å¾ˆå¤šæ–°ç‰¹æ€§ï¼Œä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œæˆ‘å°†æ‰€æœ‰çš„æ–°ç‰¹æ€§å…¨éƒ¨æ•´ç†åœ¨è¿™ä¸€ç¯‡æ–‡ç« ä¸­ã€‚

> psï¼šæœ‰çš„èµ„æ–™ç§°ES2015åçš„æ‰€æœ‰ç‰ˆæœ¬ç»Ÿç§°ä¸ºES6ï¼Œä¹Ÿæœ‰çš„ç§°ES6è¡¨ç¤ºES2015ï¼ŒES7è¡¨ç¤ºES2016ä»¥æ­¤ç±»æ¨ï¼Œè¿™é‡Œä¸åšè®¨è®ºã€‚

## ğŸˆ ES2015(ES6)

ES2015æ˜¯æ”¹åŠ¨æœ€å¤§çš„ä¸€ä¸ªç‰ˆæœ¬ï¼ŒåŸºæœ¬ä¸Šå¯¹ES2015ä¹‹å‰çš„æ‰€æœ‰çš„å†…å®¹éƒ½åšäº†æ‰©å±•ï¼Œå¤§ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](image/es2015_PwtCqM1LwD.png)

### ğŸ‰ letã€constå…³é”®å­—å’Œå—çº§ä½œç”¨åŸŸ

åœ¨ES6ä¹‹å‰åªæœ‰ä¸€ç§å£°æ˜å˜é‡çš„æ–¹å¼ï¼Œå°±æ˜¯ä½¿ç”¨`var`å…³é”®å­—ï¼Œåœ¨ES2015ä¸­**æ–°å¢äº†********å’Œ****\*\*\*\*å…³é”®å­—æ¥å£°æ˜å˜é‡ä¸å¸¸é‡**ï¼Œä»£ç å¦‚ä¸‹ï¼š

```javascript
// å£°æ˜å˜é‡
let v = 100
v = 200
// å£°æ˜å¸¸é‡
const V = 200
// ä¿®æ”¹å¸¸é‡
// V = 300 // æŠ¥é”™

```

åŒæ—¶**ä½¿ç”¨********å’Œ****\*\*\*\*å…³é”®å­—å£°æ˜çš„å˜é‡æˆ–è€…å¸¸é‡æ˜¯å…·æœ‰å—çº§ä½œç”¨åŸŸçš„**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
{
  var v = 100
}
{
  let val = 200
}
console.log(v)
console.log(val) // æŠ¥é”™ val is not defined

```

å€¼å¾—æ³¨æ„çš„æ˜¯**ä½¿ç”¨********æˆ–è€…****\*\*\*\*å…³é”®å­—å£°æ˜çš„å˜é‡ä¸å…·æœ‰å˜é‡æå‡çš„ç‰¹æ€§ï¼Œä¸”å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºçš„ç‰¹æ€§ã€‚**

### ğŸŠ å‡½æ•°çš„æ‰©å±•

åœ¨ES2015ä¸­**å…è®¸å‡½æ•°ä½¿ç”¨é»˜è®¤å€¼**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
// es2015ä¹‹å‰
function foo(v) {
  v = v ? v : 100
  return v
}

// es2015
function bar(v = 100) {
  return v
}

```

å€¼å¾—æ³¨æ„çš„æ˜¯**å¦‚æœæœ‰å¤šä¸ªå‚æ•°æ—¶ï¼Œé»˜è®¤å‚æ•°å¿…é¡»ä»åå‘å‰ä½¿ç”¨**ã€‚

**åœ¨ES2015ä¸­æ–°å¢äº†ç®­å¤´å‡½æ•°**ï¼Œè¿™æ˜¯å‡½æ•°çš„ä¸€ç§ç®€å†™å½¢å¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
function foo(v) {
  return v``
}
// ç®­å¤´å‡½æ•°å†™æ³•
const foo = (v) => {
  return v
}
// ç®€å†™å½¢å¼ 1
const foo = v => { // åªæœ‰ä¸€ä¸ªå‚æ•°å¯ä»¥çœç•¥æ‹¬å·
  return v
}
// ç®€å†™å½¢å¼ 2
const foo = v => v // è¯­å¥ä¸­åªæœ‰returnæ—¶å¯ä»¥çœç•¥returnå’ŒèŠ±æ‹¬å·

```

å€¼å¾—æ³¨æ„çš„æ˜¯**ç®­å¤´å‡½æ•°çš„********æ˜¯æ ¹æ®æ‰§è¡Œä¸Šä¸‹æ–‡å†³å®šçš„ï¼Œå†…éƒ¨å¹¶ä¸ä¼šç»‘å®š******ã€‚

**ä½¿ç”¨ç®­å¤´å‡½æ•°æ—¶å†…éƒ¨å¹¶ä¸å­˜åœ¨argumentså¯¹è±¡ï¼Œè€Œæ˜¯é‡‡ç”¨å‰©ä½™å‚æ•°çš„æ–¹å¼ä»£æ›¿**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const foo = (...args) => {
  // console.log(arguments) // ReferenceError: arguments is not defined
  console.log(args) // args æ˜¯ä¸€ä¸ªæ•°ç»„
}
foo(1, 2, 3, 4) // [ 1, 2, 3, 4 ]


```

**åœ¨ES2015ä¸­ä¸ºå‡½æ•°å¢åŠ çš„è¦ç»™nameå±æ€§ï¼Œè¯¥å±æ€§æŒ‡å‘å‡½æ•°çš„åç§°**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
function foo(v) {
  return v
}
const bar = v => v
console.log(foo.name) // foo
console.log(bar.name) // bar

```

### ğŸ‹ æ•°å€¼çš„æ‰©å±•

åœ¨ES2015ä¸­å¯¹æ•°å€¼çš„æ‰©å±•ä¸»è¦æ—¶ä¸º`Math`å’Œ`Number`ä¸¤ä¸ªå¯¹è±¡å¢åŠ ä¸€äº›æ–¹æ³•ï¼Œä»¥åŠäºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶çš„è¡¨ç¤ºæ–¹æ³•ã€‚

**åœ¨ES2015ä¸­ä½¿ç”¨********æˆ–è€…****\*\*\*\*è¡¨ç¤ºäºŒè¿›åˆ¶ï¼Œä½¿ç”¨**\*\*****æˆ–è€…****\*\*\*\*è¡¨ç¤ºå…«è¿›åˆ¶ã€‚\*\*ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
console.log(0b111111111 === 511) // true
console.log(0o777 === 511) // true

```

ä¸ºNumberæ‰©å±•çš„å±æ€§å’Œæ–¹æ³•å¦‚ä¸‹ï¼š

| å±æ€§/æ–¹æ³•å                    | æè¿°             |
| ------------------------- | -------------- |
| Number.EPSILON            | æ•°å€¼æœ€å°ç²¾åº¦         |
| Number.MIN\_SAFE\_INTEGER | æœ€å°å®‰å…¨æ•°(`-2^53`) |
| Number.MAX\_SAFE\_INTEGER | æœ€å¤§å®‰å…¨æ•°(`2^53`)  |
| Number.parseInt()         | æŠŠå‚æ•°è§£æä¸ºæ•´æ•°å¹¶è¿”å›    |
| Number.parseFloat()       | æŠŠå‚æ•°è§£æä¸ºæµ®ç‚¹æ•°å¹¶è¿”å›   |
| Number.isFinite()         | åˆ¤æ–­æ˜¯å¦ä¸ºæœ‰é™æ•°å€¼      |
| Number.isNaN()            | åˆ¤æ–­æ˜¯å¦ä¸ºNaN       |
| Number.isInteger()        | åˆ¤æ–­æ˜¯å¦ä¸ºæ•´æ•°        |
| Number.isSafeInteger()    | åˆ¤æ–­æ•°å€¼æ˜¯å¦åœ¨å®‰å…¨èŒƒå›´å†…   |

ä¸ºMathæ‰©å±•çš„æ–¹æ³•å¦‚ä¸‹ï¼š

| æ–¹æ³•å          | æè¿°                                                                                   |
| ------------ | ------------------------------------------------------------------------------------ |
| Math.trunc() | è¿”å›æ•°å€¼æ•´æ•°éƒ¨åˆ†                                                                             |
| Math.sign()  | è¿”å›æ•°å€¼ç±»å‹(`æ­£æ•°1ã€è´Ÿæ•°-1ã€é›¶0`)                                                                |
| ...          | è¿˜æœ‰å¥½å¤šå…³äºæ•°å­¦çš„æ–¹æ³•ã€[æŸ¥çœ‹](https://www.bookstack.cn/read/es6-3rd/spilt.7.docs-number.md "æŸ¥çœ‹")ã€‘ |

### ğŸŒ å­—ç¬¦ä¸²çš„æ‰©å±•

ES2015å¼•å…¥**æ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä½¿ç”¨åå¼•å·(\`)å®šä¹‰ï¼Œæ¨¡æ¿å­—ç¬¦ä¸²ä¼šä¿ç•™æ ¼å¼ï¼Œä¸”å¯ä»¥ä½¿ç”¨å˜é‡**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
// ä½¿ç”¨ ` å®šä¹‰æ¨¡æ¿å­—ç¬¦ä¸²
let str = `ä¸€ç¢—å‘¨`

// æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥ä¿ç•™æ ¼å¼
let str2 = `ä¸€
ç¢—
å‘¨`

// æ¨¡æ¿å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨å˜é‡
const myName = 'ä¸€ç¢—å‘¨'
let str3 = `author: ${myName}` // ä½¿ç”¨ ${} è¿›è¡ŒåŒ…è£¹

```

ES2015è¿˜ä¸ºStringå’ŒStringçš„ç¤ºä¾‹æ‰©å±•äº†ä¸€äº›æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š

| æ–¹æ³•å                            | æè¿°                                          |
| ------------------------------ | ------------------------------------------- |
| String.fromCodePoint()         | ç”¨äºä» Unicode ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦                        |
| String.raw()                   | è¿”å›ä¸€ä¸ªæ–œæ éƒ½è¢«è½¬ä¹‰ï¼ˆå³æ–œæ å‰é¢å†åŠ ä¸€ä¸ªæ–œæ ï¼‰çš„å­—ç¬¦ä¸²ï¼Œå¾€å¾€ç”¨äºæ¨¡æ¿å­—ç¬¦ä¸²çš„å¤„ç†æ–¹æ³•ã€‚ |
| String.prototype.codePointAt() | è¿”å›å­—ç¬¦å¯¹åº”ç ç‚¹(`String.fromCodePoint()`çš„é€†æ“ä½œ)      |
| String.prototype.normalize()   | æŠŠå­—ç¬¦çš„ä¸åŒè¡¨ç¤ºæ–¹æ³•ç»Ÿä¸€ä¸ºåŒæ ·å½¢å¼ï¼Œè¿”å›`æ–°å­—ç¬¦ä¸²`(Unicodeæ­£è§„åŒ–)      |
| String.prototype.repeat()      | æŠŠå­—ç¬¦ä¸²é‡å¤næ¬¡ï¼Œè¿”å›å¤„ç†åçš„å­—ç¬¦ä¸²                          |
| String.prototype.includes()    | åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŒ‡å®šå­—ç¬¦ä¸²                                 |
| String.prototype.startsWith()  | åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨åŸå§‹å­—ç¬¦ä¸²çš„å¤´éƒ¨                           |
| String.prototype.endsWith()    | åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨åŸå§‹å­—ç¬¦ä¸²çš„å°¾éƒ¨                           |

### ğŸ æ•°ç»„çš„æ‰©å±•

**åœ¨ES2015ä¸­æä¾›äº†å±•å¼€è¿ç®—ç¬¦ï¼Œå³**\*\*\*\*\*\*ï¼Œåœ¨æ•°ç»„ä¸­ä½¿ç”¨å¯ä»¥å°†æ•°ç»„å±•å¼€ï¼Œå¹¶ä»¥é€—å·åˆ†éš”\*\*ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const arr = [1, 2, 3, 4, 5, 6]
const newArr = [...arr] // å¤åˆ¶æ•°ç»„

console.log(Math.max.call(null, ...arr)) // å°†æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ä½œä¸ºå‚æ•°ä½¿ç”¨

```

é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜ä¸ºArrayä»¥åŠæ•°ç»„æä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œæ¥é€ä¸ªä»‹ç»ï¼š

*   `Array.from()`ï¼šå°†ç±»æ•°ç»„å¯¹è±¡æˆ–è€…å¯è¿­ä»£å¯¹è±¡åˆ›å»ºä¸ºä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    function foo() {
      return Array.from(arguments) // å°† arguments è½¬æ¢ä¸ºæ•°ç»„
    }

    console.log(foo(1, 2, 3, 4, 5, 6)) // [ 1, 2, 3, 4, 5, 6 ]

    ```

*   `Array.of()`ï¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°æ•°ç»„å®ä¾‹ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    Array.of(1) // [1]
    Array.of(true, 1, 'ä¸€ç¢—å‘¨') // [true, 1, 'ä¸€ç¢—å‘¨']

    ```

*   `Array.prototype.copyWithin()`ï¼Œæµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¿”å›å®ƒï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„é•¿åº¦ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const arr = [1, 2, 3, 4]

    // ä»ç´¢å¼• 2 å¼€å§‹ï¼Œåˆ°ç»“æŸ å°†å†…å®¹å¤åˆ¶åˆ°ç´¢å¼• 0 çš„ä½ç½®
    arr.copyWithin(0, 2) // [ 3, 4, 3, 4 ]
    ```

*   `Array.prototype.find()`ï¼Œæ ¹æ®ç»™å®šçš„å›è°ƒå‡½æ•°ï¼Œæ‰¾åˆ°åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ‰¾ä¸åˆ°è¿”å›`undefined`ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const arr = [1, 2, 3, 4]

    arr.find(item => item === 2) // 2ï¼ˆè¡¨ç¤ºå…ƒç´ ï¼‰ã€
    ```

*   `Array.prototype.findIndex()`ï¼Œæ ¹æ®ç»™å®šçš„å›è°ƒå‡½æ•°ï¼Œæ‰¾åˆ°åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å›`-1`ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const arr = [1, 2, 3, 4]

    arr.findIndex(item => item === 2) // 1 (è¡¨ç¤ºç´¢å¼•)
    ```

*   `Array.prototype.fill()`ï¼Œå°†ç»™å®šå€¼å¡«å……æ•°ç»„ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const arr = [1, 2, 3, 4]
    // å°†ç»™å®šå€¼å¡«å……ç´¢å¼•1-3
    arr.fill('ä¸€ç¢—å‘¨', 1, 3) // [ 1, 'ä¸€ç¢—å‘¨', 'ä¸€ç¢—å‘¨', 4 ]
    ```

*   `Array.prototype.keys()`ï¼Œè¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œå…¶å†…å®¹ä¸ºæ•°ç»„çš„`key`ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const arr = [1, true, 'ä¸€ç¢—å‘¨']
    const keys = arr.keys()
    for (const i of keys) {
      console.log(i) // éå†ç»“æœ 0 1 2
    }
    ```

*   `Array.prototype.values()`ï¼Œè¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œå…¶å†…å®¹ä¸ºæ•°ç»„çš„`value`ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const arr = [1, true, 'ä¸€ç¢—å‘¨']
    const values = arr.values()
    for (const i of values) {
      console.log(i) // éå†ç»“æœ 1 true ä¸€ç¢—å‘¨
    }
    ```

*   `Array.prototype.entries()`ï¼Œè¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œå…¶å†…å®¹æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç´¢å¼•`0`ä¸ºåŸæ•°ç»„çš„å…ƒç´ ï¼Œ`1`ä¸ºåŸæ•°ç»„è¯¥ä½ç½®çš„å€¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const arr = [1, true, 'ä¸€ç¢—å‘¨']

    const iterator = arr.entries()
    console.log(Array.from(iterator)) // [ [ 0, 1 ], [ 1, true ], [ 2, 'ä¸€ç¢—å‘¨' ] ]
    ```

### ğŸ¥­ å¯¹è±¡çš„æ‰©å±•

ES2015ä¸­**å…è®¸å¯¹è±¡çš„å±æ€§åå’Œå±æ€§å€¼ä¸€è‡´æ—¶å¯ä»¥åªå†™å±æ€§å**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const myName = 'ä¸€ç¢—å‘¨'
const age = 18
const person = { myName, age }
console.log(person) // { myName: 'ä¸€ç¢—å‘¨', age: 18 }

```

è¿˜æœ‰å°±æ˜¯**åœ¨å®šä¹‰å¯¹è±¡æ—¶ï¼Œå…è®¸ä½¿ç”¨**\*\*\*\***åŒ…è£¹è¡¨è¾¾å¼ä½œä¸ºå±æ€§å**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const myName = 'ä¸€ç¢—å‘¨'
const age = 18
const person = {
  myName,
  ['a' + 'g' + 'e']: age,
}
console.log(person) // { myName: 'ä¸€ç¢—å‘¨', age: 18 }

```

*   `Object.is()`ï¼šç”¨äºæ¯”è¾ƒä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œç”¨äºè§£å†³`NaN â‰ = NaN`ï¼Œ`+0 === -0`çš„é—®é¢˜ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    console.log(NaN === NaN) // false
    console.log(+0 === -0) // true

    console.log(Object.is(NaN, NaN)) // true
    console.log(Object.is(+0, -0)) // false


    ```

*   `Object.assign()`ï¼šå°†æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å€¼ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼Œå¹¶è¿”å›ç›®æ ‡å¯¹è±¡ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const person = Object.assign({}, { name: 'ä¸€ç¢—å‘¨' }, { age: 18 })
    console.log(person) // { name: 'ä¸€ç¢—å‘¨', age: 18 }

    ```

*   `Object.getPrototypeOf()`ï¼šè·å–åŸå‹å¯¹è±¡ï¼›

*   `Object.setPrototypeOf()`ï¼šè®¾ç½®åŸå‹å¯¹è±¡ã€‚

### ğŸ ç±»

åœ¨ES2015ä¸­æå‡ºäº†ç±»çš„æ¦‚å¿µï¼Œåœ¨è¯­æ³•çš„å±‚é¢ä¸Šæœ‰äº†ç±»ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
class Person {
  constructor(age) {
    // å±æ€§
    this.myName = 'ä¸€ç¢—å‘¨'
    this.age = age
  }
  // é™æ€æ–¹æ³•
  static print() {
    console.log()
  }
  // è®¿é—®å™¨
  get myName() {
    console.log('getter')
    return 'ä¸€ç¢—å‘¨'
  }
  set myName(v) {
    console.log('setter' + v)
  }
  setName(v) {
    this.myName = v
  }
}
const person = new Person(18)
person.setName('ywanzhou') // è§¦å‘ setter è®¿é—®å™¨
console.log(person.myName) // è§¦å‘ getter è®¿é—®å™¨

```

### ğŸ æ¨¡å—åŒ–

åœ¨ES2015ä¸­æå‡ºESModelæ¨¡å—åŒ–è§„èŒƒï¼Œè¿™æ˜¯ç¬¬ä¸€ä¸ªå®˜æ–¹å±‚é¢çš„æ¨¡å—åŒ–è§„èŒƒï¼Œåœ¨è¿™ä¸ªè§„èŒƒä¸­**å…è®¸æˆ‘ä»¬ä½¿ç”¨********å¯¼å‡ºæ¨¡å—ï¼Œä½¿ç”¨****\*\*\*\*å¼•å…¥æ¨¡å—**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
import a from 'm' // å¯¼å…¥æ¨¡å— m ä¸­çš„é»˜è®¤å¯¼å‡ºï¼Œå°†å…¶å‘½åä¸º a
import a, { b } from 'm' // å¯¼å…¥æ¨¡å— m ä¸­çš„é»˜è®¤å¯¼å‡ºä»¥åŠå•ç‹¬å¯¼å…¥æˆå‘˜ b
import * as A from 'm' // å¯¼å…¥æ¨¡å—ä¸­çš„æ‰€æœ‰æˆå‘˜
import 'm' // æ‰§è¡Œ m æ¨¡å—

export const b = 1 // å•ç‹¬å¯¼å‡º
export default b // é»˜è®¤å¯¼å‡º
export { b } // æŒ‰éœ€å¯¼å‡º
export { b as bb } // æ”¹åå¯¼å‡º

export { b } from 'm' // å¯¼å…¥æ¨¡å— m ä¸­çš„æˆå‘˜ b å¹¶å¯¼å‡º

```

### ğŸ è§£æ„èµ‹å€¼

ES2015æ–°å¢äº†**è§£æ„èµ‹å€¼**çš„è¯­æ³•ï¼Œ**å…è®¸æˆ‘ä»¬ä½¿ç”¨æŒ‰ç…§ä¸€å®šçš„æ¨¡å¼ï¼Œåœ¨æ•°ç»„æˆ–è€…å¯¹è±¡ä¸­æå–æŒ‡å®šçš„å€¼**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
// æ•°ç»„çš„è§£æ„èµ‹å€¼
let [name, age, hobby = 'coding' /* ç»“æ„èµ‹å€¼çš„é»˜è®¤å€¼ */] = ['ä¸€ç¢—å‘¨', 18]
// äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼
let a = 1
let b = 2
;[a, b] = [b, a]
console.log(a, b) // 2 1

// å¯¹è±¡çš„ç»“æ„èµ‹å€¼
let { name: ObjName /* è§£æ„èµ‹å€¼é‡å‘½å */, sex } = { name: 'ä¸€ç¢—å‘¨', sex: 1 }

// å‡½æ•°å‚æ•°çš„è§£æ„èµ‹å€¼
function bar({ name, age }) {
  return name + age
}
bar({ name: 'ä¸€ç¢—å‘¨', age: 18 }) // ä¸€ç¢—å‘¨18


```

### ğŸ‘ Symbol

Symbolæ˜¯ES2015ä¸­æ–°å¢çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œé€šè¿‡`Symbol()`æ–¹æ³•åˆ›å»ºï¼Œå¯ä»¥ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œç”¨äºæè¿°è¯¥Symbolï¼›

é€šè¿‡`Symbol()`æ–¹æ³•åˆ›å»ºçš„symbolå€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
/**
 * è¯­æ³•
 * Symbol([description])
 * * description -> æ˜¯ä¸€ä¸ªå¯é€‰çš„æè¿°ä¿¡æ¯
 */
// åˆ›å»ºä¸€ä¸ª Symbol ç±»å‹çš„å€¼
const mySymbol = Symbol()
console.log(mySymbol) // Symbol()

const myName = Symbol('ä¸€ç¢—å‘¨')
console.log(typeof myName) // symbol

```

Symbolè¿˜æœ‰ä¸€ç³»åˆ—å±æ€§å’Œæ–¹æ³•è¿™é‡Œå°±ä¸ä½œä»‹ç»äº†ã€‚

### ğŸ’ Promise

**Promiseæ˜¯ES2015ä¸­æä¾›çš„ä¸€ä¸ªå¼‚æ­¥è§£å†³æ–¹æ¡ˆï¼Œè§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚**

é€šè¿‡`Promise()`æ„é€ å‡½æ•°å¯ä»¥åˆ›å»ºä¸€ä¸ªpromiseå¯¹è±¡ï¼Œæ¯ä¸€ä¸ªPromiseå¯¹è±¡éƒ½å…·æœ‰ä»¥ä¸‹å‡ ç§çŠ¶æ€ï¼š

*   *pending*: åˆå§‹çŠ¶æ€ï¼Œæ—¢ä¸æ˜¯æˆåŠŸï¼Œä¹Ÿä¸æ˜¯å¤±è´¥çŠ¶æ€ã€‚

*   *resolved*: æ„å‘³ç€æ“ä½œæˆåŠŸå®Œæˆã€‚

*   *rejected*: æ„å‘³ç€æ“ä½œå¤±è´¥ã€‚

çŠ¶æ€çš„åˆ‡æ¢åªæœ‰ä¸¤ç§ï¼Œåˆ†åˆ«æ˜¯ï¼š

*   *pending*â†’*resolved*

*   *pending*â†’*resolved*

**ä¸€æ—¦çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œå°±ä¸ä¼šå†æ¬¡æ”¹å˜**

`Promise`å®ä¾‹ä¸­å­˜åœ¨è¦ç»™`then`æ–¹æ³•ï¼Œå…è®¸æˆ‘ä»¬åœ¨`Promise`å®ä¾‹ä¸­**é“¾å¼è°ƒç”¨**ï¼Œæ¯ä¸ª`then`æ–¹æ³•è¿˜ä¼šè¿”å›ä¸€ä¸ª`Promise`å®ä¾‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º

![](image/Promiseé“¾å›¾_tOeP4d0MYK.png)

ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
new Promise((resolve, reject) => {
    console.log('æˆ‘æ˜¯ç¬¬ä¸€ä¸ªPromiseä¸­çš„log')
    resolve()
})
    .then(() => {
        console.log('æˆ‘æ˜¯ç¬¬ä¸€ä¸ªthenä¸­çš„log')
    })
    .then(() => {
        console.log('æˆ‘æ˜¯ç¬¬äºŒä¸ªthenä¸­çš„logï¼Œä½†æ˜¯æˆ‘å‡ºç°äº†å¼‚å¸¸')
        throw new Error('Error')
    })
    .then(() => {
        console.log('æˆ‘æ˜¯ç¬¬ä¸‰ä¸ªthenä¸­çš„ç¬¬ä¸€ä¸ªå›è°ƒçš„logï¼Œä½†æ˜¯æˆ‘ä¸ä¼šæ‰§è¡Œï¼Œå› ä¸ºæˆ‘ä¸Šé¢å‡ºç°äº†å¼‚å¸¸')
    }, () => {
        console.log('æˆ‘æ˜¯ç¬¬ä¸‰ä¸ªthenä¸­çš„ç¬¬äºŒä¸ªå›è°ƒçš„logï¼Œæˆ‘æ‰§è¡Œäº†')
    })
    .then(() => {
        console.log('æˆ‘æ˜¯ç¬¬å››ä¸ªthenä¸­çš„logï¼Œæˆ‘å¯ä»¥æ­£å¸¸æ‰§è¡Œ')
    })

/* æ‰§è¡Œç»“æœå¦‚ä¸‹
æˆ‘æ˜¯ç¬¬ä¸€ä¸ªPromiseä¸­çš„log
æˆ‘æ˜¯ç¬¬ä¸€ä¸ªthenä¸­çš„log
æˆ‘æ˜¯ç¬¬äºŒä¸ªthenä¸­çš„logï¼Œä½†æ˜¯æˆ‘å‡ºç°äº†å¼‚å¸¸
æˆ‘æ˜¯ç¬¬ä¸‰ä¸ªthenä¸­çš„ç¬¬äºŒä¸ªå›è°ƒçš„logï¼Œæˆ‘æ‰§è¡Œäº†
æˆ‘æ˜¯ç¬¬å››ä¸ªthenä¸­çš„logï¼Œæˆ‘å¯ä»¥æ­£å¸¸æ‰§è¡Œ
*/
```

æœ‰å…³`Promise`çš„ä¸€äº›æ–¹æ³•å¦‚ä¸‹ï¼š

*   `Promise.prototype.then()`ï¼šå®ƒæœ€å¤šéœ€è¦æœ‰ä¸¤ä¸ªå‚æ•°ï¼šPromiseçš„æˆåŠŸå’Œå¤±è´¥æƒ…å†µçš„å›è°ƒå‡½æ•°ï¼›

*   `Promise.prototype.catch()`ï¼šç­‰äº`then`æ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼›

*   `Promise.all()`ï¼šå°†å¤šä¸ªå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¿”å›å…¨éƒ¨å®ä¾‹çŠ¶æ€å˜æ›´åçš„ç»“æœæ•°ç»„(é½å˜æ›´å†è¿”å›)

*   `Promise.race()`ï¼šå°†å¤šä¸ªå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¿”å›å…¨éƒ¨å®ä¾‹çŠ¶æ€ä¼˜å…ˆå˜æ›´åçš„ç»“æœ(å…ˆå˜æ›´å…ˆè¿”å›)

*   `Promise.resolve()`ï¼šå°†å¯¹è±¡è½¬ä¸ºPromiseå¯¹è±¡(ç­‰ä»·äº`new Promise(resolve => resolve())`)

*   `Promise.reject()`ï¼šå°†å¯¹è±¡è½¬ä¸ºçŠ¶æ€ä¸º`rejected`çš„Promiseå¯¹è±¡(ç­‰ä»·äº`new Promise((resolve, reject) => reject())`)

### ğŸ“ Iterator

Iteratorå³è¿­ä»£å™¨ï¼Œå®ƒæ˜¯ä¸€ç§æ¥å£ï¼Œä¸º**å„ç§ä¸åŒçš„æ•°æ®ç»“æ„æä¾›äº†ç»Ÿä¸€çš„è®¿é—®æœºåˆ¶**ï¼Œæ¢å¥è¯è¯´ï¼Œåªè¦æœ‰ä»»ä½•æ•°æ®ç»“æ„éƒ¨ç½²äº†è¿­ä»£æ¥å£ï¼Œå°±å¯ä»¥ä½¿ç”¨ç»Ÿä¸€çš„æ–¹å¼çš„æ¥éå†å®ƒã€‚

å®ç°å¯è¿­ä»£æ¥å£çš„æ•°æ®ç»“æ„ï¼Œä¸€èˆ¬éƒ½è‡ªèº«å®ç°æˆ–ç»§æ‰¿äº†ä»¥`Symbol.iterator`å±æ€§çš„ï¼Œå°±å±äºå¯è¿­ä»£å¯¹è±¡ã€‚`Symbol.iterator`å±æ€§æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå°±æ˜¯å½“å‰æ•°æ®ç»“æ„é»˜è®¤çš„éå†å™¨ç”Ÿæˆå‡½æ•°ã€‚

ä¸€ä¸ªåŒ…å«`next()`æ–¹æ³•çš„å¯¹è±¡ï¼Œæ‰å¯ä»¥ç§°ä¸ºä¸€ä¸ªè¿­ä»£å¯¹è±¡ã€‚`next()`å¯¹è±¡çš„ä¼šæœ‰è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­åŒ…å«ä¸¤ä¸ªå€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

*   `value`ï¼šè¿­ä»£å™¨è¿”å›çš„ä»»ä½•`JavaScript`å€¼ã€‚`done`ä¸º`true`æ—¶å¯çœç•¥ã€‚

*   `done`ï¼šä¸€ä¸ªå¸ƒå°”å€¼ï¼Œä¸º`false`æ—¶è¡¨ç¤ºè¿­ä»£æœªåœæ­¢ï¼Œä¸º`true`æ—¶ç«‹å³åœæ­¢è¿­ä»£å™¨ï¼Œä¸”å¯ä»¥çœç•¥`value`çš„å€¼ã€‚

JavaScriptåŸç”Ÿæä¾›çš„è¿­ä»£å™¨æ¥å£å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](image/é»˜è®¤çš„å¯è¿­ä»£æ¥å£_CIl0ah2ly7.png)

ç°åœ¨æˆ‘ä»¬ä¸º`obj`æ¥å®ç°ä¸€ä¸ªè¿­ä»£å™¨ï¼Œä»£ç å¦‚ä¸‹ï¼š

```javascript
const obj = {
    [Symbol.iterator] () {
        return {
            next () {
                console.log('è¿­ä»£å™¨æ‰§è¡Œäº†');
                return {
                    value: '',
                    done: true // æ ‡å¿—æ˜¯å¦ç»“æŸï¼Œtrueè¡¨ç¤ºå·²ç»ç»“æŸ
                }
            }
        }
    }
}
```

æˆ‘ä»¬åœ¨`next()`æ–¹æ³•ä¸­æ·»åŠ äº†ä¸€ä¸ªæ‰“å°ï¼Œä¸ºäº†éªŒè¯è¿­ä»£å™¨æ‰§è¡Œäº†ï¼Œæœ€ç»ˆçš„è¿è¡Œç»“æœä¸º

```çº¯æ–‡æœ¬
è¿­ä»£å™¨æ‰§è¡Œäº†
```

### ğŸ« Generator

Generatoræ˜¯ES2015ä¸­æä¾›çš„ä¸€ç§**å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆ**ï¼Œå®šä¹‰Generatorå‡½æ•°åœ¨`function`å…³é”®å­—å’Œå‡½æ•°åä¸­é—´ä½¿ç”¨`*`æ˜Ÿå·ï¼Œå‡½æ•°å†…éƒ¨ä½¿ç”¨`yield`å…³é”®å­—å®šä¹‰ä¸åŒçš„çŠ¶æ€ã€‚

ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
function* testGenerator() {
  // yieldå®šä¹‰ä¸€ä¸ªçŠ¶æ€
  yield 'ä¸€ç¢—å‘¨'
  yield 'esæ–°ç‰¹æ€§'
  return 'generator' // ç»ˆç»“Generatorï¼Œåé¢å³ä½¿æœ‰yieldå…³é”®å­—ä¹Ÿæ— æ•ˆ
}
const g = testGenerator() // è¿”å› Generator å¯¹è±¡ï¼Œé€šè¿‡next()æ–¹æ³•ç§»åŠ¨çŠ¶æ€

g.next()
/* { value: 'ä¸€ç¢—å‘¨', done: false } */

g.next()
/* { value: 'esæ–°ç‰¹æ€§', done: false } */

g.next()
/* { value: 'generator', done: true } */

```

### ğŸˆ Proxyå’ŒReffect

Proxyå¯¹è±¡ç”¨äºåˆ›å»ºä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä»è€Œå®ç°åŸºæœ¬æ“ä½œçš„æ‹¦æˆªå’Œè‡ªå®šä¹‰ï¼ŒåŸºæœ¬æ“ä½œåŒ…å«13ç§ï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š

| æ‹¦æˆª â½…æ³•                                       | è§¦å‘â½…å¼                                                                             |
| ------------------------------------------- | -------------------------------------------------------------------------------- |
| `get(target, propKey, receiver)`            | è¯»å–æŸä¸ªå±æ€§                                                                           |
| `set(target, propKey, value, receiver)`     | å†™â¼ŠæŸä¸ªå±æ€§                                                                           |
| `has(target, propKey)`                      | `in`æ“ä½œç¬¦                                                                          |
| `deleteProperty(target, propKey)`           | `delete`æ“ä½œç¬¦                                                                      |
| `getPrototypeOf(target)`                    | `Object.getPropertypeOf()`                                                       |
| `setPrototypeOf(target, proto)`             | `Object.setPrototypeOf()`                                                        |
| `isExtensible(target)`                      | `Object.isExtensible()`                                                          |
| `preventExtensions(target)`                 | `Object.preventExtensions()`                                                     |
| `getOwnPropertyDescriptor(target, propKey)` | `Object.getOwnPropertyDescriptor()`                                              |
| `defineProperty(target, propKey, propDesc)` | `Object.defineProperty()`                                                        |
| `ownKeys(target)`                           | `Object.keys()` ã€`Object.getOwnPropertyNames()`ã€`Object.getOwnPropertySymbols()` |
| `apply(target, thisArg, args)`              | è°ƒâ½¤â¼€ä¸ªå‡½æ•°                                                                           |
| `construct(target, args)`                   | â½¤ new è°ƒâ½¤â¼€ä¸ªå‡½æ•°                                                                     |

Vue3å°±æ˜¯åŸºäº`Proxy`è¿›è¡Œç¼–å†™çš„ï¼Œä¸‹é¢è¿™æ®µä»£ç å±•ç¤ºäº†`Proxy`å¯¹è±¡çš„ä½¿ç”¨ï¼š

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.0.2/css/bootstrap.min.css" rel="stylesheet" />
  <title>é€šè¿‡setè‡ªåŠ¨æ›´æ–°dom</title>
</head>

<body>
  <div class="card" style="width: 300px; margin: 100px auto">
    <div class="card-body">
      <h1 id="name"></h1>
      <button id="btn" class="btn btn-primary">ä¿®æ”¹</button>
    </div>
  </div>
  <script>
    // è·å–DOMèŠ‚ç‚¹
    const name = document.getElementById('name')
    const btn = document.getElementById('btn')
    // å®šä¹‰ä¸€ä¸ªä¿®æ”¹å€¼çš„å‡½æ•°
    const updateDOM = (el, value) => {
      el.innerHTML = value
    }
    const person = new Proxy({
      name: 'ä¸€ç¢—ç²¥',
    }, {
      set(target, propKey, value) {
        // å¦‚æœé‡Œé¢çš„å€¼æ”¹å˜å°±å»è°ƒç”¨æˆ‘ä»¬çš„updateDOM
        updateDOM(name, value)
        target[propKey] = value
        return true
      },
    })
    name.innerHTML = person.name

    // ç‚¹å‡»æŒ‰é’®è§¦å‘ä¿®æ”¹æ“ä½œ
    btn.addEventListener('click', () => {
      person.name === 'ä¸€ç¢—å‘¨' ?
        (person.name = 'ä¸€ç¢—ç²¥') :
        (person.name = 'ä¸€ç¢—å‘¨')
    })
  </script>
</body>

</html>
```

ä¸Šé¢çš„ä»£ç å°±åˆ©ç”¨setæ–¹æ³•è¿›è¡Œæ•°æ®ç»‘å®šï¼Œå¦‚æœå¯¹è±¡å‘ç”Ÿæ”¹å˜ï¼Œå°±è‡ªåŠ¨æ›´æ–°æˆ‘ä»¬çš„DOMã€‚

Reflectæ˜¯ECMAScript2015æä¾›çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒ**æä¾›äº†ä¸€äº›æ‹¦æˆªJavaScriptæ“ä½œçš„é™æ€æ–¹æ³•**ï¼Œè¿™äº›æ–¹æ³•ä¸Proxyä¸­çš„`handlers`ä¸­çš„æ–¹æ³•ä¸€è‡´ã€‚

Reflectå¹¶ä¸æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¸èƒ½å¤Ÿè¢«å®ä¾‹åŒ–ã€‚

`Proxy`å¯¹è±¡ä¸­çš„æ¯ä¸€ä¸ªæ‹¦æˆªæ“ä½œï¼ˆä¾‹å¦‚ï¼š`get`ã€`delete`ç­‰ï¼‰,å†…éƒ¨éƒ½å¯¹åº”çš„è°ƒç”¨äº†`Reflect`çš„æ–¹æ³•ã€‚å®ƒæä¾›çš„é™æ€æ–¹æ³•ä¸Proxyä¸­çš„`handlers`ä¸­çš„æ–¹æ³•åç§°éƒ½ä¸€è‡´ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

| é»˜è®¤è°ƒâ½¤                                 | åŠŸèƒ½                           |
| ------------------------------------ | ---------------------------- |
| `Reflect.get()`                      | è·å–å¯¹è±¡èº«ä¸ŠæŸä¸ªå±æ€§çš„å€¼                 |
| `Reflect.set()`                      | åœ¨å¯¹è±¡ä¸Šè®¾ç½®å±æ€§                     |
| `Reflect.has()`                      | åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§               |
| `Reflect.deleteProperty()`           | åˆ é™¤å¯¹è±¡ä¸Šçš„å±æ€§                     |
| `Reflect.getPrototypeOf()`           | è·å–æŒ‡å®šå¯¹è±¡åŸå‹çš„å‡½æ•°                  |
| `Reflect.setPrototypeOf()`           | è®¾ç½®æˆ–æ”¹å˜å¯¹è±¡åŸå‹çš„å‡½æ•°                 |
| `Reflect.isExtensible()`             | åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¯æ‰©å±• ï¼ˆå³æ˜¯å¦èƒ½å¤Ÿæ·»åŠ æ–°çš„å±æ€§ï¼‰    |
| `Reflect.preventExtensions()`        | é˜»æ­¢æ–°å±æ€§æ·»åŠ åˆ°å¯¹è±¡                   |
| `Reflect.getOwnPropertyDescriptor()` | è·å–ç»™å®šå±æ€§çš„å±æ€§æè¿°ç¬¦                 |
| `Reflect.defineProperty()`           | å®šä¹‰æˆ–ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§                 |
| `Reflect.ownKeys()`                  | è¿”å›ç”±ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å±æ€§é”®ç»„æˆçš„æ•°ç»„           |
| `Reflect.apply()`                    | å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œè°ƒç”¨æ“ä½œï¼ŒåŒæ—¶å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„ä½œä¸ºè°ƒç”¨å‚æ•° |
| `Reflect.construct()`                | å¯¹æ„é€ å‡½æ•°è¿›è¡Œ `new`æ“ä½œï¼Œå®ç°åˆ›å»ºç±»çš„å®ä¾‹     |

### ğŸ‰ Setã€Mapã€WeakSetã€WeakMap

`Set`ã€`Map`ã€`WeakSet`ã€`WeakMap`æ˜¯ES2015ä¸­æ–°å¢çš„å‡ ä¸ªå¯¹è±¡ï¼š

*   `Set`å’Œ`WeakSet`ä¸æ•°ç»„ç±»ä¼¼ï¼Œå‡†ç¡®çš„å®ƒä»–ä»¬æ˜¯é›†åˆï¼Œè¿™ä¸¤è€…çš„åŒºåˆ«å°±æ˜¯`Set`**å¯ä»¥å­˜å‚¨ä»»ä½•æ•°æ®ç±»å‹**ï¼Œè€Œ`WeakSet`**åªèƒ½å­˜å‚¨å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸”æ˜¯å¼±å¼•ç”¨**ï¼›

    `Set`å¯¹è±¡åœ¨å®é™…å¼€å‘ä¸­æœ€å¸¸è§çš„å°±æ˜¯å®ç°æ•°æ®å»é‡ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const arr = [1, 2, 2, 3, 4, 3, 5]
    const set = new Set(arr)
    // setå¯¹è±¡å¯ä»¥ä½¿ç”¨ ... å±•å¼€ æ‰€æœ‰é¡¹
    console.log([...set]) // [ 1, 2, 3, 4, 5 ]

    ```

*   `Map`å’Œ`WeakMap`ä¸å¯¹è±¡ç±»ä¼¼ï¼Œå­˜å‚¨æ–¹å¼æ˜¯é”®å€¼å¯¹å½¢å¼çš„ï¼Œè¿™ä¸¤è€…çš„åŒºåˆ«`Map`çš„é”®å€¼å¯¹éƒ½æ˜¯å¯ä»¥æ˜¯ä»»æ„çš„è€Œ`WeakMap`é”®å¿…é¡»æ˜¯å¯¹è±¡çš„å¼•ç”¨è€Œå€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ã€‚

## ğŸŠ ES2016(ES7)

ES2016å‘å¸ƒçš„æ–°ç‰¹æ€§æ¯”è¾ƒå°‘ï¼Œä¸»è¦å°±ä¸¤ä¸ªæ–°ç‰¹æ€§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![](image/es2016_RKSLreVtrD.png)

### ğŸ‹ æŒ‡æ•°è¿ç®—ç¬¦

ES2016ä¸­æ–°å¢æŒ‡æ•°`**`ï¼Œä¹Ÿå«å¹‚è¿ç®—ç¬¦ï¼Œä¸Math.pow()æœ‰ç€ä¸€æ ·çš„åŠŸèƒ½ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
console.log(2 ** 10 === Math.pow(2, 10)) // true

```

### ğŸŒ Array.prototype.includes()æ–¹æ³•

åœ¨ES2016ä¸­åœ¨æ•°ç»„åŸå‹ä¸Šå¢åŠ äº†`includes()`æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨äºåˆ¤æ–­ä¸€ä¸ªæ•°ç»„ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„å€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const arr = [1, 2, 3, 4, 5, NaN]
console.log(arr.indexOf(NaN)) // -1
console.log(arr.includes(NaN)) // true

```

å€¼å¾—æ³¨æ„çš„æ˜¯**ä½¿ç”¨********æ—¶****\*\*\*\*ä¸**\*\*\*\*\*\*ã€********ä¸********æ˜¯ç›¸ç­‰çš„ã€‚\*\*

## ğŸ ES2017(ES8)

![](image/es2017_RWNz-wKrs5.png)

### ğŸ¥­ async/awaitè¯­æ³•ç³–

Promiseçš„å‡ºç°è™½ç„¶è§£å†³äº†å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœé“¾å¼è°ƒç”¨ç‰¹åˆ«å¤šçš„è¯å¯è¯»æ€§è¿˜æ˜¯ä¼šå˜å·®ï¼Œåœ¨ES2017ä¸­æ–°å¢äº† async/awaitè¯­æ³•ç³–è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚

Promiseçš„å†™æ³•å¦‚ä¸‹ï¼š

```javascript
;(function () {
  function promise(v) {
    return new Promise((resolve, reject) => {
      resolve(v)
    })
  }
  const p = promise(1)
  p.then(res => {
    return promise(res)
  }).then(res => {
    console.log(res)
  })
})()


```

å¦‚æœä¸‹ä¸€ä¸ªPromiseä¾èµ–äºä¸Šä¸€ä¸ªï¼Œè¿™ç§é“¾å¼è°ƒç”¨å°±ä¼šéå¸¸çš„é•¿ï¼Œç°åœ¨æˆ‘ä»¬ç”¨ async/awaitè¯­æ³•ç³–æ”¹å†™ä¸€ä¸‹ï¼š

```javascript
;(async function () {
  function promise(v) {
    return new Promise((resolve, reject) => {
      resolve(v)
    })
  }
  const r1 = await promise(1)
  const r2 = await promise(r1)
  const res = await promise(r2)
  console.log(res)
})()

```

å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ async/awaitè¯­æ³•ç³–å°†Promiseæ”¹å†™ä¸ºå¹³çº§çš„å†™æ³•ã€‚

### ğŸ Atomicså¯¹è±¡

ES2017ä¸­æ–°å¢äº†Atomicså¯¹è±¡ï¼Œè¯¥å¯¹è±¡æä¾›äº†ä¸€ç³»åˆ—é™æ€æ–¹æ³•ç”¨äºæ“ä½œ[SharedArrayBuffer](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer "SharedArrayBuffer")å’Œ[ArrayBuffer](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer "ArrayBuffer")å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¹¶ä¸èƒ½ä½¿ç”¨`new`å…³é”®å­—è¿›è¡Œå®ä¾‹åŒ–ï¼Œä»…ä»…æä¾›äº†ä¸€äº›é™æ€çš„å±æ€§å’Œæ–¹æ³•

### ğŸ å¯¹è±¡æ‰©å±•

åœ¨ES2017ä¸­ä¸º`Object`æ‰©å±•äº†ä¸‰ä¸ªé™æ€æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

*   `Object.values()`ï¼šè¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å€¼çš„æ•°ç»„ï¼›

*   `Object.entries()`ï¼šè¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ï¼›

*   `Object.getOwnPropertyDescriptors()`ï¼šè¿”å›ç»™å®šå¯¹è±¡æ‰€æœ‰è‡ªæœ‰å±æ€§çš„å±æ€§æè¿°ç¬¦ã€‚

### ğŸ‘ å‡½æ•°æ‰©å±•

**åœ¨ES2017ä¸­å…è®¸æˆ‘ä»¬åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨çš„æœ€åé¢æ·»åŠ é€—å·**ï¼Œè¿™ä¸ªå°ç‰¹æ€§éå¸¸çš„æœ‰ç”¨ï¼Œå› ä¸ºä¸ºå°¾é€—å·çš„æ›´æ–°çš„æ—¶å€™ä»…ä»…éœ€è¦æ”¹åŠ¨ä¸€è¡Œä»£ç ï¼Œå¦‚æœä¸é€‚ç”¨å°¾é€—å·åˆ™æ˜¯æ”¹åŠ¨ä¸¤è¡Œä»£ç ã€‚å®ä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
function fun(
  aaaaa,
  bbbbb,
  ccccc,
) {}

```

å¦‚æœå­˜åœ¨å°¾é€—å·ï¼Œåªéœ€è¦åœ¨æœ€åé¢æ·»åŠ ä¸€è¡Œå°±å¥½ï¼›å¦‚æœä¸å­˜åœ¨åˆ™éœ€è¦åœ¨åé¢æ·»åŠ è¦ç»™é€—å·ï¼Œç„¶ååœ¨æ·»åŠ ä¸€è¡Œã€‚è¿™åœ¨ç‰ˆæœ¬ç®¡ç†ä¸­å°±æ”¹åŠ¨äº†ä¸¤è¡Œï¼Œè€Œä¸æ˜¯ä¸€è¡Œã€‚

### ğŸ’ å­—ç¬¦ä¸²æ‰©å±•

åœ¨ES2017ä¸­ä¸ºå­—ç¬¦ä¸²æ–°å¢äº†ä¸¤ä¸ªå®ä¾‹æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š

*   `padStart()`ï¼šåœ¨å­—ç¬¦ä¸²å¼€å¤´å¡«å……ç©ºæ ¼ï¼›

*   `padEnd()`ï¼šåœ¨å­—ç¬¦ä¸²ç»“å°¾å¡«å……ç©ºæ ¼ï¼›

ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const str = 'ä¸€ç¢—å‘¨'

console.log(str.padStart(10)) /*        ä¸€ç¢—å‘¨ */
console.log(str.padEnd(10))   /* ä¸€ç¢—å‘¨        */

```

## ğŸ“ ES2018(ES9)

![](image/es2018_46dGZv98Xd.png)

### ğŸ« å¼‚æ­¥è¿­ä»£

åœ¨ES2018ä¸­æ–°å¢äº†`for await...of`è¯­å¥ï¼Œè¯¥ç”¨äºå¯ä»¥éå†å¼‚æ­¥å¯è¿­ä»£å¯¹è±¡ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
var asyncIterable = {
  [Symbol.asyncIterator]() {
    return {
      i: 0,
      next() {
        if (this.i < 3) {
          return Promise.resolve({ value: this.i++, done: false })
        }

        return Promise.resolve({ done: true })
      },
    }
  },
}

;(async function () {
  for await (num of asyncIterable) {
    console.log(num)
  }
})()

// 0
// 1
// 2

```

### ğŸˆ æ­£åˆ™çš„æ‰©å±•

åœ¨ES2018ä¸­ï¼Œå¯¹æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œäº†å¦‚ä¸‹æ‰©å±•ï¼š

1.  **æ­£åˆ™è¡¨è¾¾å¼åˆ†ç»„å‘½å**ï¼š

    åœ¨ES2018ä¹‹å‰ï¼Œæˆ‘ä»¬æ— æ³•å¯¹æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„åˆ†ç»„å‘½åï¼Œåœ¨ES2018ä¸­å¼•å…¥äº†è¯¥ç‰¹æ€§ï¼Œè¯¥ç‰¹æ€§æ—¢æ–¹ä¾¿äº†æ­£åˆ™çš„é˜…è¯»åˆæ–¹ä¾¿äº†å¼•ç”¨ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    const RE_DATE = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/

    const matchObj = RE_DATE.exec('2022-02-22')
    const year = matchObj.groups.year // 2022
    const month = matchObj.groups.month // 02
    const day = matchObj.groups.day // 22

    ```

2.  sä¿®é¥°ç¬¦/dotALlæ¨¡å¼

    æ–°å¢çš„sä¿®é¥°ç¬¦å…è®¸ä½¿ç”¨`.`åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œ\*\*\*\*å±æ€§è¡¨æ˜æ˜¯å¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä¸€èµ·ä½¿ç”¨"`s`"ä¿®é¥°ç¬¦ã€‚

3.  åå‘æ–­è¨€

    ES2018ä¹‹å‰ä»…å­˜åœ¨æ­£å‘æ–­è¨€ï¼Œè€ŒES2018ä¸­æ–°å¢äº†**åå‘æ–­è¨€**å’Œ**åå‘å¦å®šæ–­è¨€**ã€‚

### ğŸ‰ å¯¹è±¡å±•å¼€è¿ç®—ç¬¦

ES2015ä¸­æ–°å¢æ•°ç»„çš„å±•å¼€è¿ç®—ç¬¦ï¼Œåœ¨ES2018ä¸­å°†è¿™ä¸€ç‰¹æ€§åŠ å…¥åˆ°äº†å¯¹è±¡ä¸­ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const n = { name: 'ä¸€ç¢—å‘¨' }
const a = { age: 18 }
const person = { ...n, ...a }
// åˆå¹¶å¯¹è±¡
console.log(person) // { name: 'ä¸€ç¢—å‘¨', age: 18 }

```

### ğŸŠ Promise.prototype.finally()

`finally()`æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ª`Promise`å¯¹è±¡ï¼Œå½“promiseçš„çŠ¶æ€å˜æ›´ï¼Œä¸ç®¡æ˜¯å˜æˆ`rejected`æˆ–è€…`fulfilled`ï¼Œæœ€ç»ˆéƒ½ä¼šæ‰§è¡Œ`finally()`çš„å›è°ƒã€‚

ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
fetch(url)
  .then(res => {
    console.log(res)
  })
  .catch(error => {
    console.log(error)
  })
  .finally(() => {
    console.log('ç»“æŸ')
  })


```

## ğŸ‹ ES2019(ES10)

![](image/es2019_YKVhkHIA2C.png)

### ğŸŒ ä¼˜åŒ–

åœ¨ES2019ä¸­ä¼˜åŒ–äº†ä»¥ä¸‹ä¸¤ä¸ªå†…å®¹ï¼š

*   `Function.prototype.toString()`ï¼šè¿”å›çš„å‡½æ•°ä½“åŒ…å«æ³¨é‡Šä¸ç©ºæ ¼ï¼›

*   `try...catch`ï¼šè¯­å¥ä¸­çš„`catch`å…è®¸ä¸ä½¿ç”¨å‚æ•°ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

    ```javascript
    try {
      console.log('ä¸€ç¢—å‘¨')
    } catch {
      console.error('ä¸€ç¢—å‘¨')
    }

    ```

### ğŸtrimStart()/trimLeft()å’ŒtrimEnd()/trimRight()&#x20;

*   `String.prototype.trimStart`ï¼šç”¨äºå»é™¤å­—ç¬¦ä¸²å·¦è¾¹çš„ç©ºæ ¼ï¼›

*   `String.prototype.trimLeft`ï¼šå®ƒæ˜¯`trimStart`çš„åˆ«å

*   `String.prototype.trimEnd`ï¼šç”¨äºå»é™¤å­—ç¬¦ä¸²å³è¾¹çš„ç©ºæ ¼ï¼›

*   `String.prototype.trimRight`ï¼šå®ƒæ˜¯`trimEnd`çš„åˆ«å

### ğŸ¥­ æ•°ç»„çš„æ‰©å±•

åœ¨ES2019ä¸­æ‰©å±•äº†ä¸¤ä¸ªæ•°ç»„æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ï¼š

*   `Array.prototype.flat()`ï¼šè¯¥æ–¹æ³•ä¼šæŒ‰ç…§ä¸€ä¸ªå¯æŒ‡å®šçš„æ·±åº¦é€’å½’éå†æ•°ç»„ï¼Œå¹¶å°†æ‰€æœ‰å…ƒç´ ä¸éå†åˆ°çš„å­æ•°ç»„ä¸­çš„å…ƒç´ åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ•°ç»„è¿”å›ï¼›ç®€å•çš„è¯´å°±æ˜¯**å®ç°æ•°ç»„çš„æ‰å¹³åŒ–**ã€‚

    ```javascript
    const arr = [0, 1, 2, [3, 4]]
    console.log(arr.flat()) // [ 0, 1, 2, 3, 4 ]

    ```

*   `Array.prototype.flatMap()`ï¼šè¯¥æ–¹æ³•æ˜ å°„ä¸”æ‰å¹³åŒ–æ•°ç»„ï¼Œè¿”å›æ–°æ•°ç»„(åªèƒ½å±•å¼€ä¸€å±‚æ•°ç»„)ã€‚

### ğŸ Object.fromEntries()

ES2019ä¸­æ–°å¢çš„`Object.fromEntries()`æ–¹æ³•æŠŠé”®å€¼å¯¹åˆ—è¡¨è½¬æ¢ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯`Object.entries()`æ–¹æ³•çš„åæ“ä½œï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const person = {
  name: 'ä¸€ç¢—å‘¨',
  age: '18',
}
const e = Object.entries(person)

const p = Object.fromEntries(e)
console.log(p) // { name: 'ä¸€ç¢—å‘¨', age: '18' }

```

### ğŸSymbol.prototype.descrption

`description`æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œå®ƒä¼šè¿”å›åˆ›å»ºSymbolå¯¹è±¡æ—¶çš„é‚£ä¸ªå¯é€‰çš„æè¿°å­—ç¬¦ä¸²ã€‚

## ğŸ‘ES2020(ES11)

![](image/es2020_rerkFeJYWU.png)

### ğŸ’ æ¨¡å—åŒ–

åœ¨ES2020ä¸­åŠ å…¥äº†**åŠ¨æ€å¯¼å…¥**ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦è¯¥æ¨¡å—çš„æ—¶å€™æ‰ä¼šè¿›è¡ŒåŠ è½½ï¼Œè¿™å¯ä»¥å‡å°‘å¼€é”€å’Œé¡µé¢åŠ è½½æ—¶é—´ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
import('/modules/my-module.js').then(module => {
  // Do something with the module.
})

```

åŠ¨æ€å¯¼å…¥ä½¿ç”¨`import()`æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ªPromiseã€‚

**åœ¨ES2020ä¸­ï¼Œè¿˜ä¸º********å¢åŠ ä¸€ä¸ª****\*\*\*\*å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ç»™JavaScriptæ¨¡å—æš´éœ²äº†ç‰¹å®šä¸Šä¸‹æ–‡çš„å…ƒæ•°æ®å±æ€§çš„å¯¹è±¡ã€‚**

### ğŸ“ BigIntæ•°æ®ç±»å‹

BigIntçš„å‡ºç°æ—¶è§£å†³JavaScriptä¸­å…è®¸çš„æœ€å¤§æ•°å­—æ˜¯`2**53-1`çš„é—®é¢˜ï¼Œ\*\*\*\* å¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚

```javascript
const theBiggestInt = 9007199254740991n;

const alsoHuge = BigInt(9007199254740991);
// â†ª 9007199254740991n

const hugeString = BigInt("9007199254740991");
// â†ª 9007199254740991n

const hugeHex = BigInt("0x1fffffffffffff");
// â†ª 9007199254740991n

const hugeBin = BigInt("0b11111111111111111111111111111111111111111111111111111");
// â†ª 9007199254740991n
```

### ğŸ« globalThiså¯¹è±¡

ES2020ä¸­å¼•å…¥`globalThis`ï¼Œå®ƒæ˜¯å¯¹å…¨å±€å¯¹è±¡çš„å¼•å…¥ï¼Œåœ¨Nodeæ˜¯çš„å…¨å±€å¯¹è±¡æ˜¯`Global`ï¼Œè€Œæµè§ˆå™¨ç¯å¢ƒæ˜¯`Window`ï¼›å¦‚ä¸‹ä»£ç å±•ç¤ºçš„åœ¨æœ‰æ²¡æœ‰`GlobalThis`çš„åŒºåˆ«ï¼š

```javascript
// ä¹‹å‰
var getGlobal = function () { 
  if (typeof self !== 'undefined') { return self; } 
  if (typeof window !== 'undefined') { return window; } 
  if (typeof global !== 'undefined') { return global; } 
  throw new Error('unable to locate global object'); 
}; 

var globals = getGlobal(); 

if (typeof globals.setTimeout !== 'function') { 
  // no setTimeout in this environment! 
}
```

```javascript
// ä¹‹å

if (typeof globalThis.setTimeout !== 'function') {
  // no setTimeout in this environment!
}

```

### ğŸˆ ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦

ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦æ˜¯ç”±ä¸¤ä¸ªé—®å·æ¥è¡¨ç¤ºï¼Œè¯¥è¿ç®—ç¬¦ä¹Ÿæ˜¯ä¸€ä¸ªé€»è¾‘è¿ç®—ç¬¦ï¼Œè¯¥è¿ç®—ç¬¦ä¸é€»è¾‘æˆ–è¿ç®—ç¬¦ç±»ä¼¼ã€‚å…¶è®¡ç®—è§„åˆ™ä¸ºï¼Œåªè¦å·¦è¿ç®—å…ƒä¸º`null`æˆ–è€…`undefined`ï¼Œåˆ™è¿”å›å³è¿ç®—å…ƒï¼Œå¦åˆ™è¿”å›å·¦è¿ç®—å…ƒã€‚è€Œé€»è¾‘æˆ–è¿ç®—ç¬¦åªæœ‰å·¦è¿ç®—å…ƒè½¬æ¢ä¸º`boolean`ç±»å‹åä¸º`false`ï¼Œå°±è¿”å›å³è¿ç®—å…ƒã€‚

ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
console.log(null ?? 10) // 10
console.log(undefined ?? 10) // 10
console.log(false ?? 10) // false
```

è¯¥è¿ç®—ç¬¦ç”¨äºä¸ºæ²¡æœ‰å€¼çš„å˜é‡èµ‹å€¼å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼šå¦‚æœè¿™ä¸ªæ•°æ²¡æœ‰å€¼ï¼Œå°±ä¸ºå…¶èµ‹å€¼ï¼Œå¦åˆ™ä¸èµ‹å€¼ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
var value

// å¦‚æœvalueçš„å€¼ä¸ä¸º null æˆ–è€… undefined ä¸ºå…¶èµ‹å€¼10
value = value ?? 10
console.log(value) // 10
```

> å€¼å¾—æ³¨æ„çš„æ˜¯**ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦**ä¸**é€»è¾‘ä¸å’Œé€»è¾‘æˆ–ä¸èƒ½åŒæ—¶ä½¿ç”¨**ï¼Œå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡ä½¿ç”¨`()`æ¥è¡¨æ˜ä¼˜å…ˆçº§

### ğŸ‰å¯é€‰é“¾æ“ä½œç¬¦

å¯é€‰é“¾æ“ä½œç¬¦ç”¨äºè¯»å–æŸå¯¹è±¡é“¾ä¸‹æ·±å¤„å±æ€§çš„å€¼ï¼Œä½¿ç”¨è¿™ä¸ªæ“ä½œç¬¦ä¸å¿…éªŒè¯å¯¹è±¡ä¸‹çš„æ¯ä¸ªå±æ€§å¿…é¡»å­˜åœ¨ï¼Œä¾‹å¦‚æˆ‘ä»¬æƒ³è¦è®¿é—®`A.a.b`è¿™ä¸ªå±æ€§æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç¡®ä¿`A`å­˜åœ¨ï¼Œç„¶åéœ€è¦ç¡®ä¿`A.a`å­˜åœ¨ï¼Œæ‰å¯ä»¥è®¿é—®`A.a.b`è¿™ä¸ªå±æ€§ï¼Œä¸ç„¶å°±ä¼šæŠ¥é”™ã€‚

ä½¿ç”¨å¯é€‰é“¾æ“ä½œç¬¦å°±ä¸ä¼šå‡ºç°è¿™æ ·çš„é—®é¢˜ï¼Œå½“æˆ‘ä»¬è®¿é—®æŸä¸ªå±æ€§æ—¶ï¼Œåªè¦æœ‰ä¸€å¤„ä¸å­˜åœ¨ï¼Œå°±ä¼šè¿”å›`undefind`ï¼Œä¸ä¼šæŠ¥é”™ã€‚

```javascript
var A = {}

// console.log(A.a.b) // æŠ¥é”™

console.log(A.a?.b) // undefined
```

å¯é€‰é“¾æ“ä½œç¬¦ä¹Ÿå¯ç”¨äºå¯¹è±¡ä¸‹æ–¹æ³•çš„è°ƒç”¨ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
var obj = {}

// å¦‚æœå­˜åœ¨ obj.fun() è¿™ä¸ªæ–¹æ³•ï¼Œä¸‹é¢åˆ™ä¼šç›´æ¥è°ƒç”¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™ä¼šè¿”å›undefined
obj.fun?.A()
```

### ğŸŠ Promise.allSettled()

`Promise.allSettled()`æ–¹æ³•è¿”å›ä¸€ä¸ªåœ¨æ‰€æœ‰ç»™å®šçš„ promise éƒ½å·²ç»resolvedæˆ–rejectedåçš„ promiseï¼Œå¹¶å¸¦æœ‰ä¸€ä¸ªå¯¹è±¡æ•°ç»„ï¼Œæ¯ä¸ªå¯¹è±¡è¡¨ç¤ºå¯¹åº”çš„ promise ç»“æœã€‚

## ğŸ‹ ES2021(ES12)

![](image/es2021_u-00Oftg07.png)

### ğŸŒ String.prototype.replaceAll()

\*\*\*\*æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œæ–°å­—ç¬¦ä¸²çš„å†…å®¹æ˜¯ç»è¿‡æ›¿æ¢çš„ï¼Œå®ä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const str = 'ä¸€ç¢—ç²¥'
const newStr = str.replaceAll('ç²¥', 'å‘¨')
console.log(newStr) // ä¸€ç¢—å‘¨

```

### ğŸ æ•°å€¼åˆ†éš”ç¬¦

ä¸¥æ ¼æ„ä¹‰ä¸Šè®²æ•°å€¼åˆ†éš”ç¬¦(`_`)å¹¶ä¸å±äºä¸€ä¸ªè¿ç®—ç¬¦ï¼Œå…¶ä½œç”¨å°±æ˜¯ä½¿æ•°å­—æ›´åŠ åˆ©äºé˜…è¯»ï¼Œä¾‹å¦‚ä¸‹é¢çš„ä»£ç 

```javascript
console.log(1_0000_0000) // 100000000
```

è¿™ä¸ªç¬¦å·ä»…ä»…èµ·åˆ°äº†ä¾¿äºé˜…è¯»çš„ç›®çš„ï¼Œæœ‰ä¸æ²¡æœ‰çš„ç»“æœå¹¶ä¸å½±å“ï¼Œçœ‹ä¸‹é¢çš„ä»£ç 

```javascript
1_1 === 11 // true
```

### ğŸ¥­ WeakRef

ES2021ä¸­æ–°å¢çš„`WeakRef`å¯¹è±¡å…è®¸æ‚¨ä¿ç•™å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œè€Œä¸ä¼šé˜»æ­¢è¢«å¼±å¼•ç”¨å¯¹è±¡è¢«GCå›æ”¶ã€‚

### ğŸ Promise.any()

ES2021ä¸­æ–°å¢çš„`Promise.any()`æ–¹æ³•ï¼Œå®ƒæ¥å—çš„å‚æ•°å’Œä¸`promise.all()`æ˜¯ä¸€è‡´çš„ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ï¼Œ`Promise.any()`æ–¹æ³•æ¥å—çš„å¯è¿­ä»£å¯¹è±¡ä¸­æ²¡æœ‰ä¸€ä¸ªpromiseæˆåŠŸï¼ˆå³æ‰€æœ‰çš„promiseséƒ½å¤±è´¥/æ‹’ç»ï¼‰ï¼Œå°±è¿”å›ä¸€ä¸ªå¤±è´¥çš„promiseå’ŒAggregateErrorç±»å‹çš„å®ä¾‹ã€‚

### ğŸ é€»è¾‘èµ‹å€¼æ“ä½œç¬¦

ES2021ä¸­æ–°å¢äº†ä¸€äº›èµ‹å€¼è¿ç®—ç¬¦ï¼Œå…·ä½“å¦‚ä¸‹ï¼š

*   `&&=`

*   `||=`

*   `??=`

å®é™…ä¸Šå®ƒä¸æ™®é€šçš„èµ‹å€¼è¿ç®—ç¬¦ä¸€è‡´ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const [f1, f2, f3] = [true, false]
f1 &&= 'ä¸€ç¢—å‘¨' // ç­‰åŒäº str = str && 'ä¸€ç¢—å‘¨'
f2 ||= 'ä¸€ç¢—å‘¨' // ç­‰åŒäº str = str || 'ä¸€ç¢—å‘¨'
f3 ??= 'ä¸€ç¢—å‘¨' // ç­‰åŒäº str = str ?? 'ä¸€ç¢—å‘¨'

```

## ğŸ‘ ES2022

### ğŸ’ classçš„æ‰©å±•

åœ¨ES2022ä¸­å…è®¸æˆ‘ä»¬å¹¶ä¸åœ¨`constructor`ä¸­å®šä¹‰ç±»çš„æˆå‘˜ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
class C {
  myName = 'ä¸€ç¢—å‘¨'
}
/* ä¸¤è€…æ˜¯ä¸€è‡´çš„ */
class C {
  constructor() {
    myName = 'ä¸€ç¢—å‘¨'
  }
}

```

> å¦‚æœæˆå‘˜åªå£°æ˜ä¸åˆå§‹åŒ–å®ƒçš„é»˜è®¤å€¼æ˜¯undefinedã€‚

åœ¨ES2022ä¸­å…è®¸æˆ‘ä»¬ä½¿ç”¨`#`å¼€å¤´å‘½åçš„å˜é‡ä½œä¸ºç±»çš„ç§æœ‰æˆå‘˜ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
class C {
  #myName = 'ä¸€ç¢—å‘¨'
}
const c = new C()
console.log(#myName) //  Private field '#myName' must be declared in an enclosing class
```

### ğŸ“ awaitåœ¨é¡¶å±‚ä½¿ç”¨

åœ¨ES2022ä¸­æ–°å¢äº†å…è®¸åœ¨é¡¶å±‚ä½¿ç”¨`await`ï¼Œåœ¨é¡¶å±‚å¯ä»¥ä¸é€‚ç”¨`async`å‡½æ•°è¿›è¡ŒåŒ…è£¹ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
import { AsyncFun } from 'module'
await AsyncFun()
console.log(123)

```

### ğŸ« Object.hasOwn()

`Object.hasOwn()`æ–¹æ³•ç”¨äº**åˆ¤æ–­æŸä¸ªå¯¹è±¡ä¸Šæ˜¯å¦å…·æœ‰æŸä¸ªå±æ€§**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const person = {
  name: 'ä¸€ç¢—å‘¨',
  age: 18,
}
console.log(Object.hasOwn(person, 'name')) // true
console.log(Object.hasOwn(person, 'sex')) // false

```

### ğŸˆ Array.prototype.at()

ES2022ä¸­æ–°å¢çš„`at()`æ–¹æ³•ï¼Œå®ƒçš„ä½œç”¨æ˜¯**è·å–æ•°ç»„ä¸­çš„æŸä¸ªæˆå‘˜**ï¼Œå®ƒçš„å‚æ•°æ˜¯æ•°ç»„çš„ç´¢å¼•ï¼Œä¸ç›´æ¥ä½¿ç”¨ç´¢å¼•çš„æ–¹å¼ä¸åŒï¼Œå®ƒ**å…è®¸æˆ‘ä»¬ä¼ é€’è´Ÿå€¼**ï¼Œ**ç­‰åŒäºä»åé¢å€’æ•°**ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const arr = [1, 2, 3, 4, 5, 6]
console.log(arr.at(-1)) // 6
// ç­‰åŒäº arr[arr.length - 1]

```

### ğŸ‰ dä¿®é¥°ç¬¦

æ­£åˆ™è¡¨è¾¾å¼å¢åŠ äº†ä¸€ä¸ª`/d`ä¿®é¥°ç¬¦ï¼Œå½“ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„`exec()`æ–¹æ³•æ—¶ï¼Œå¦‚æœæœ‰`/d`ä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆç»“æœä¼šå¤šè¿”å›ä¸€ä¸ªindiceså±æ€§ï¼Œç”¨æ¥è¡¨ç¤ºåŒ¹é…çš„ç»“æœçš„åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„èµ·å§‹indexå€¼ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```javascript
const str = 'JavaScript'
const r = /a/d

const m = r.exec(str)
console.log(m.indices[0]) //[ 1, 2 ]

```

## ğŸŠ å†™åœ¨æœ€å

è¿™ç¯‡æ–‡ç« åˆ°è¿™å°±ç»“æŸäº†ï¼Œè¿™ç¯‡æ–‡ç« ä¸­æ•´ç†äº†ES2015åˆ°ES2022çš„æ–°ç‰¹æ€§ï¼Œæœ‰å¯èƒ½ä¼šæœ‰ç–æ¼ï¼Œæœ›è°…è§£ã€‚

å¦‚æœè§‰å¾—æœ‰ç”¨å°±ç‚¹èµæ”¶è—æ”¯æŒä¸€ä¸‹å§\~\~\~\~

è„‘å›¾å¦‚ä¸‹ï¼š

![](image/ECMAScriptæ–°ç‰¹æ€§ä¸€è§ˆ_q1GX304J2i.png)
